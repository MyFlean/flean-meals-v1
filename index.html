<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#fdfbf7">
  <title>Flean â€” Radically Clean. Scientifically Yours.</title>
  <link rel="stylesheet" href="assets/styles.css">
</head>
<body data-page="home">

  <!-- Header -->
  <header class="header">
    <div class="header-top-row">
      <div class="location-pill" onclick="alert('Location picker coming soon!')">
        <span class="location-sub">489B, HSR Layout</span>
        <span>â–¼</span>
      </div>
      <button class="rewards-btn">Get Rewards</button>
    </div>
    
    <!-- Mode Toggle -->
    <div class="mode-toggle-container" id="homeContainer" data-mode="grocery">
      <div class="mode-indicator"></div>
      <button class="mode-toggle-btn active" id="toggleGrocery" onclick="setMode('grocery')">Clean Pantry</button>
      <button class="mode-toggle-btn" id="toggleMeals" onclick="setMode('meals')">Fresh Meals</button>
    </div>

    <!-- Search -->
    <div class="search-container">
      <span class="search-icon">ğŸ”</span>
      <input type="text" class="search-input" placeholder="Search 'sugar free' or 'high protein'...">
    </div>
  </header>

  <!-- Categories (Grocery Only) -->
  <div class="chip-row" id="categoryScroll">
    <!-- Injected via JS -->
  </div>

  <!-- Trust Bar -->
  <div class="trust-bar">
    <div class="trust-item">ğŸ›¡ï¸ 300+ Additives Banned</div>
    <div class="trust-item">ğŸ§  AI Health Scored</div>
    <div class="trust-item">ğŸŒ¿ Clean Label Only</div>
  </div>

  <!-- Hero Banner -->
  <div class="hero-banner" id="heroBanner">
    <!-- Injected via JS -->
  </div>

  <!-- Collections Grid (Tailored to your taste) -->
  <section class="feed-header">
    <h3>Tailored to your taste</h3>
  </section>
  
  <div class="collections-grid">
    <div class="collection-card" onclick="window.location.href='flean_finds.html'">
      <div class="collection-title">High-fibre heroes</div>
      <div class="collection-sub">Easy on the gut</div>
      <img src="assets/images/Burrito_Bowl_Supreme.jpg" class="collection-img" alt="Fiber">
    </div>
    <div class="collection-card" onclick="window.location.href='flean_finds.html'">
      <div class="collection-title">Vegan and vibin</div>
      <div class="collection-sub">Top-tier collection</div>
      <img src="assets/images/Bowl Street Kitchen.png" class="collection-img" alt="Vegan">
    </div>
    <div class="collection-card" onclick="window.location.href='flean_finds.html'">
      <div class="collection-title">Keto, done right</div>
      <div class="collection-sub">Carbs on the low</div>
      <img src="assets/images/KetoGoal.png" class="collection-img" alt="Keto">
    </div>
    <div class="collection-card" onclick="window.location.href='flean_finds.html'">
      <div class="collection-title">Protein Power</div>
      <div class="collection-sub">Less doubt</div>
      <img src="assets/images/Protein Plus Co. Kitchen.png" class="collection-img" alt="Protein">
    </div>
  </div>

  <!-- Product Feed -->
  <section class="feed-header">
    <h3 id="feedTitle">Scientifically Curated</h3>
  </section>

  <div id="productFeed">
    <!-- Injected via JS -->
  </div>

  <!-- Sticky Cart -->
  <div class="sticky-cart">
    <div class="cart-items-preview">
      <div class="cart-thumb" style="background:white; display:flex; align-items:center; justify-content:center;">ğŸ›ï¸</div>
      <div style="font-weight:700">1 item Added</div>
    </div>
    <div style="display:flex; align-items:center; gap:12px;">
      <span style="font-size:0.8rem; opacity:0.9">Score 94/100</span>
      <button onclick="window.location.href='cart.html'" style="font-weight:800; display:flex; align-items:center; gap:4px;">
        View Cart â€º
      </button>
    </div>
  </div>

  <!-- Personalize FAB -->
  <button class="fab" id="personalizationFAB">
    <span>âœ¨</span> Personalize
  </button>

  <!-- Personalization Overlay -->
  <div class="overlay" id="personalizationOverlay">
    <div class="overlay-content">
      <div class="overlay-header">
        <h2>Tailor Your Feed</h2>
        <button class="btn-icon" id="closeOverlay">âœ•</button>
      </div>
      <div class="overlay-body">
        <div class="pref-section">
          <h4>Goal</h4>
          <div class="chip-row" style="padding:0; flex-wrap:wrap;">
            <button class="chip active">Weight Loss</button>
            <button class="chip">Muscle Gain</button>
            <button class="chip">Maintenance</button>
          </div>
        </div>
        <div class="pref-section">
          <h4>Daily Protein</h4>
          <div style="display:flex; justify-content:space-between; margin-bottom:8px;">
            <span>Target</span>
            <span id="proteinVal">60g</span>
          </div>
          <input type="range" class="slider" min="30" max="150" value="60">
        </div>
        <div class="pref-section">
          <h4>Max Calories / Meal</h4>
          <div style="display:flex; justify-content:space-between; margin-bottom:8px;">
            <span>Limit</span>
            <span id="calVal">500 kcal</span>
          </div>
          <input type="range" class="slider" id="calSlider" min="300" max="1000" value="500">
        </div>
        <div class="pref-section">
          <h4>Dietary Exclusions</h4>
          <div class="chip-row" style="padding:0; flex-wrap:wrap;">
            <button class="chip active">No Palm Oil</button>
            <button class="chip">Gluten Free</button>
            <button class="chip">Dairy Free</button>
            <button class="chip">No Added Sugar</button>
          </div>
        </div>
      </div>
      <div class="overlay-footer">
        <button class="btn-primary" style="width:100%" id="savePreferences">Save & Refresh Feed</button>
      </div>
    </div>
  </div>

  <!-- Bottom Nav -->
  <nav class="bottom-nav">
    <a href="index.html" class="nav-item active">
      <span class="nav-icon">ğŸ </span>
      <span>Home</span>
    </a>
    <a href="flean_finds.html" class="nav-item">
      <span class="nav-icon">ğŸ’</span>
      <span>Finds</span>
    </a>
    <a href="profile.html" class="nav-item">
      <span class="nav-icon">ğŸ‘¤</span>
      <span>Profile</span>
    </a>
  </nav>

  <script src="assets/script.js"></script>
</body>
</html>
